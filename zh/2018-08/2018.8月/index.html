

<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>楽圜</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon"/>
    
    <!-- stylesheets list from config.yml -->
    
    <link rel="stylesheet" href="/css/Mr.white.css">
    
    
</head>
<body>

<div id="content-outer">
    <div id="content-inner">
        <div class="post-container">
    <article id="post">
    <h1>2018.8月
        <hr>
    </h1>
    <span class="date">2018-10-22</span>
    <div class="content markdown-body">
        <h1 id="2018-08-30"><a href="#2018-08-30" class="headerlink" title="2018-08-30"></a>2018-08-30</h1><h3 id="1-ios-weapp-中时间-Invalid-Date"><a href="#1-ios-weapp-中时间-Invalid-Date" class="headerlink" title="1.ios weapp 中时间 Invalid Date"></a>1.ios weapp 中时间 Invalid Date</h3><p>console.log(‘time:’, new Date(‘2018-08-23 11:15:27 UTC’).toString(), new Date(‘2018-08-28T02:14:46.317Z’).toString())这行代码在ios端小程序打印出来是 time : Invalid Date Tue Aug 28 2018 10:14:46 GMT +0800(CST)</p>
<h1 id="2018-08-24"><a href="#2018-08-24" class="headerlink" title="2018-08-24"></a>2018-08-24</h1><h3 id="1-npm-install和npm-i差别"><a href="#1-npm-install和npm-i差别" class="headerlink" title="1. npm install和npm i差别"></a>1. npm install和npm i差别</h3><p>发现npm install（新版）会生成package-lock.json</p>
<h1 id="2018-08-21"><a href="#2018-08-21" class="headerlink" title="2018-08-21"></a>2018-08-21</h1><h3 id="1-后端传的二进制流到底要怎样才能直接显示呢？"><a href="#1-后端传的二进制流到底要怎样才能直接显示呢？" class="headerlink" title="1.后端传的二进制流到底要怎样才能直接显示呢？"></a>1.后端传的二进制流到底要怎样才能直接显示呢？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">responseType: &apos;arraybuffer&apos;</div><div class="line"></div><div class="line">vm.codeData = btoa(new Uint8Array(res.data).reduce((data, byte) =&gt; data + String.fromCharCode(byte), &apos;&apos;))</div></pre></td></tr></table></figure>
<p>失败尝试：</p>
<ol>
<li>直接放入src</li>
<li>headers设置content-type（告诉服务器端传入的参数类型）</li>
<li>二进制流转base64（blob）</li>
</ol>
<p>成功原理：</p>
<ol>
<li>ArrayBuffer是二进制数据</li>
<li>btoa() 函数能够从二进制数据“字符串”创建一个base-64编码的ASCII字符串。<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WindowBase64/Base64_encoding_and_decoding" target="_blank" rel="external">Base64的编码与解码</a><br><img src="https://upload-images.jianshu.io/upload_images/139609-052b0f5ae4e1aa2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="请求举例"></li>
</ol>
<h1 id="2018-08-20"><a href="#2018-08-20" class="headerlink" title="2018-08-20"></a>2018-08-20</h1><h3 id="1-chrome-a标签-download属性，新窗口预览BUG（跨域也无法下载）"><a href="#1-chrome-a标签-download属性，新窗口预览BUG（跨域也无法下载）" class="headerlink" title="1. chrome a标签 download属性，新窗口预览BUG（跨域也无法下载）"></a>1. chrome a标签 download属性，新窗口预览BUG（跨域也无法下载）</h3><h1 id="2018-08-12"><a href="#2018-08-12" class="headerlink" title="2018-08-12"></a>2018-08-12</h1><h1 id="padding-top，-margin-top，-top-百分比时，基于哪个数据进行的计算？"><a href="#padding-top，-margin-top，-top-百分比时，基于哪个数据进行的计算？" class="headerlink" title="padding-top， margin-top， top 百分比时，基于哪个数据进行的计算？"></a>padding-top， margin-top， top 百分比时，基于哪个数据进行的计算？</h1><h1 id="2018-08-10"><a href="#2018-08-10" class="headerlink" title="2018-08-10"></a>2018-08-10</h1><h3 id="1-三个时间取最大值应该用什么方法？如果是n个时间取最大值呢？"><a href="#1-三个时间取最大值应该用什么方法？如果是n个时间取最大值呢？" class="headerlink" title="1. 三个时间取最大值应该用什么方法？如果是n个时间取最大值呢？"></a>1. 三个时间取最大值应该用什么方法？如果是n个时间取最大值呢？</h3><ol>
<li>Array.sort()</li>
<li>Math.max()</li>
</ol>
<p>解决方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new Date(Math.max(new Date(project.publishedAt || 0), new Date(project.updatedAt || 0), new Date((project.latestProgress &amp;&amp; project.latestProgress.publishedAt) || 0)))</div></pre></td></tr></table></figure></p>

    </div>
    
    <br/>
    <hr>
    <div class="copyright">
    本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎4.0 国际许可协议</a>进行许可。 <br>
    <a style="margin-top:20px;border-bottom: none" rel="license"
       href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img
                alt="知识共享许可协议" style="border-width:0"
                src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png"/></a>
</div>
    
</article>
    <hr>
    <nav id="pagination" class="menu">
    
    <a href="/zh/2018-09/2018.9月/" title="2018.9月" class="prev">&larr; next</a>
    

    <!-- 导航模块 -->

<nav id="menu">
    <a href="/" class="">Home</a>
    <a href="/archives" class="">Archives</a>
    <a href="/about" class="">About</a>
</nav>

    
    <a href="/zh/2018-07/2018.7月/" title="2018.7月" class="next">prev &rarr;</a>
    
</nav>
    <!-- 声明模块 -->
<P class="declaration">
    Copyright © 2016 by
    <a href="/about">Jane w. Gu</a>,&nbsp;&nbsp;Powered by
    <a href="http://hexo.io/" target="_blank">Hexo</a>,&nbsp;&nbsp;Theme inspired by
    <a href="https://github.com/geekplux/hexo-theme-typing" target="_blank">typing</a>
</P>
</div>
    </div>
</div>


<!-- scripts list from theme config.yml -->

<script src="/js/Mr.white.js"></script>



</body>
</html>
